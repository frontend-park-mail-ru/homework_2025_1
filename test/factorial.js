'use strict';

QUnit.module('Тестируем функцию factorial', () => {
    QUnit.test('Факториал 0 должен быть 1', (assert) => {
        assert.strictEqual(factorial(0), 1, '0! = 1');
    });

    QUnit.test('Факториал 5 должен быть 120', (assert) => {
        assert.strictEqual(factorial(5), 120, '5! = 120');
    });

    QUnit.test('Факториал 10 должен быть 3628800', (assert) => {
        assert.strictEqual(factorial(10), 3628800, '10! = 3628800');
    });

    QUnit.test('Факториал 1 должен быть 1', (assert) => {
        assert.strictEqual(factorial(1), 1, '1! = 1');
    });

    QUnit.test('Факториал от 170 должен быть большим числом', (assert) => {
        const result = factorial(170);
        const expected = BigInt('7257415615307998967396728211129263114716991681296451376543577798900561843401706157852350749242617459511490991237838520776666022565442753025328900773207510902400430280058295603966612599658257104398558294257568966313439612262571094946806711205568880457193340212661452800000000000000000000000000000000000000000');
        assert.strictEqual(result.toString(), expected.toString(), '170! соответствует правильному значению');
    });

    QUnit.test('Факториал для отрицательного числа должен выбрасывать ошибку', (assert) => {
        assert.throws(() => {
            factorial(-1);
        }, /Факториал не определен для отрицательных чисел/, 'Ошибка выбрасывается для -1');
    });

    QUnit.test('Факториал от строки должен выбрасывать ошибку с выводом типа', (assert) => {
        assert.throws(() => {
            factorial("5");
        }, /Факториал должен быть вызван с числом/, 'Ошибка выбрасывается для строки');
    });

    QUnit.test('Факториал от null должен выбрасывать ошибку с выводом типа', (assert) => {
        assert.throws(() => {
            factorial(null);
        }, /Факториал должен быть вызван с числом/, 'Ошибка выбрасывается для null');
    });

    QUnit.test('Факториал от дробного числа должен выбрасывать ошибку', (assert) => {
        assert.throws(() => {
            factorial(2.5);
        }, /Факториал должен быть вызван с целым числом/, 'Ошибка выбрасывается для дробного числа');
    });
});
